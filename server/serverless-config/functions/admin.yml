# Admin Functions
getAllUsers:
  handler: server/functions/admin/users/getAllUsers.getAllUsers
  events:
    - httpApi:
        path: /api/admin/users
        method: GET
        authorizer:
          name: jwtAuthorizer

getUserById:
  handler: server/functions/admin/users/getUserById.getUserById
  events:
    - httpApi:
        path: /api/admin/users/{id}
        method: GET
        authorizer:
          name: jwtAuthorizer

updateUserRole:
  handler: server/functions/admin/users/updateUserRole.updateUserRole
  events:
    - httpApi:
        path: /api/admin/users/{id}/role
        method: PATCH
        authorizer:
          name: jwtAuthorizer

toggleUserStatus:
  handler: server/functions/admin/users/toggleUserStatus.toggleUserStatus
  events:
    - httpApi:
        path: /api/admin/users/{id}/status
        method: PATCH
        authorizer:
          name: jwtAuthorizer

deleteUser:
  handler: server/functions/admin/users/deleteUser.deleteUser
  events:
    - httpApi:
        path: /api/admin/users/{id}
        method: DELETE
        authorizer:
          name: jwtAuthorizer

# ========== ADMIN - PRODUCTS ==========
createProduct:
  handler: server/functions/admin/products/createProduct.createProduct
  timeout: 30 # Aumentar timeout para subida de im√°genes
  events:
    - httpApi:
        path: /api/admin/products
        method: POST
        authorizer:
          name: jwtAuthorizer

updateProduct:
  handler: server/functions/admin/products/updateProduct.updateProduct
  timeout: 30
  events:
    - httpApi:
        path: /api/admin/products/{id}
        method: PUT
        authorizer:
          name: jwtAuthorizer

toggleProductStatus:
  handler: server/functions/admin/products/toggleProductStatus.toggleProductStatus
  events:
    - httpApi:
        path: /api/admin/products/{id}/status
        method: PATCH
        authorizer:
          name: jwtAuthorizer

deleteProduct:
  handler: server/functions/admin/products/deleteProduct.deleteProduct
  events:
    - httpApi:
        path: /api/admin/products/{id}
        method: DELETE
        authorizer:
          name: jwtAuthorizer

# ========== ADMIN - CATEGORIES ==========
createCategory:
  handler: server/functions/admin/categories/createCategory.createCategory
  events:
    - httpApi:
        path: /api/admin/categories
        method: POST
        authorizer:
          name: jwtAuthorizer

updateCategory:
  handler: server/functions/admin/categories/updateCategory.updateCategory
  events:
    - httpApi:
        path: /api/admin/categories/{id}
        method: PUT
        authorizer:
          name: jwtAuthorizer

toggleCategoryStatus:
  handler: server/functions/admin/categories/toggleCategoryStatus.toggleCategoryStatus
  events:
    - httpApi:
        path: /api/admin/categories/{id}/status
        method: PATCH
        authorizer:
          name: jwtAuthorizer

deleteCategory:
  handler: server/functions/admin/categories/deleteCategory.deleteCategory
  events:
    - httpApi:
        path: /api/admin/categories/{id}
        method: DELETE
        authorizer:
          name: jwtAuthorizer

# ========== ADMIN - ORDERS ==========
getAllOrders:
  handler: server/functions/admin/orders/getAllOrders.getAllOrders
  events:
    - httpApi:
        path: /api/admin/orders
        method: GET
        authorizer:
          name: jwtAuthorizer

getOrderByIdAdmin:
  handler: server/functions/admin/orders/getOrderByIdAdmin.getOrderByIdAdmin
  events:
    - httpApi:
        path: /api/admin/orders/{id}
        method: GET
        authorizer:
          name: jwtAuthorizer

updateOrderStatus:
  handler: server/functions/admin/orders/updateOrderStatus.updateOrderStatus
  events:
    - httpApi:
        path: /api/admin/orders/{id}/status
        method: PUT
        authorizer:
          name: jwtAuthorizer